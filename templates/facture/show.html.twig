{% extends 'base.html.twig' %}

{% block title %}Facture {{ facture.numeroFacture }}{% endblock %}

{% block body %}
<h1 class="text-2xl font-bold mb-6 text-gray-800">📄 Facture {{ facture.numeroFacture }}</h1>

<div class="bg-white p-6 rounded-lg shadow-md">
    <dl class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
            <dt class="font-semibold text-gray-600">Date</dt>
            <dd>{{ facture.dateFacture|date('d/m/Y') }}</dd>
        </div>
        <div>
            <dt class="font-semibold text-gray-600">Échéance</dt>
            <dd>{{ facture.dateEcheance ? facture.dateEcheance|date('d/m/Y') : '-' }}</dd>
        </div>
        <div>
            <dt class="font-semibold text-gray-600">Fournisseur</dt>
            <dd>{{ facture.nomFournisseur }}</dd>
        </div>
        <div>
            <dt class="font-semibold text-gray-600">Acheteur</dt>
            <dd>{{ facture.nomAcheteur }}</dd>
        </div>
        <div>
            <dt class="font-semibold text-gray-600">Total HT</dt>
            <dd>{{ facture.totalHT|number_format(2, ',', ' ') }} {{ facture.devise }}</dd>
        </div>
        <div>
            <dt class="font-semibold text-gray-600">Total TTC</dt>
            <dd>{{ facture.totalTTC|number_format(2, ',', ' ') }} {{ facture.devise }}</dd>
        </div>
    </dl>
</div>

<div class="mt-6 flex space-x-3">
    <a href="{{ path('facture_index') }}" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">⬅ Retour</a>
    <a href="{{ path('facture_edit', {id: facture.id}) }}" class="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">✏ Modifier</a>
    <form method="post" action="{{ path('facture_delete', {id: facture.id}) }}" onsubmit="return confirm('Confirmer la suppression ?');">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ facture.id) }}">
        <button class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">🗑 Supprimer</button>
    </form>
</div>
{% endblock %}
